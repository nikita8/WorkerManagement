{
  "packages": [
    "github.com/graniticio/granitic/ws/handler",
    "worker-management/endpoint"
  ],

  "components": {
    "workerLogic": {
      "type": "endpoint.WorkerLogic"
    },
    "userIdentifier": {
      "type": "siam.UserIdentifier"
    },
    "workerHandler": {
      "type": "handler.WsHandler",
      "HttpMethod": "GET",
      "Logic": "ref:workerLogic",
      "PathPattern": "^/worker/([a-zA-Z0-9\\-]+)[/]?$",
      "BindPathParams": ["Id"],
      "RequireAuthentication": true,
      "UserIdentifier": "ref:userIdentifier"
    },

    "statusLogic": {
      "type": "endpoint.StatusLogic"
    },

    "statusHandler": {
      "type": "handler.WsHandler",
      "HttpMethod": "GET",
      "Logic": "ref:statusLogic",
      "PathPattern":"^/status[/]?$"
    },

    "statusDynamoLogic": {
      "type": "endpoint.StatusDynamoLogic"
    },

    "statusDynamoHandler": {
      "type": "handler.WsHandler",
      "HttpMethod": "GET",
      "Logic": "ref:statusDynamoLogic",
      "PathPattern":"^/status/dynamo[/]?$"
    },

    "workerCreateLogic": {
      "type": "endpoint.WorkerCreateLogic"
    },

    "workerCreateHandler": {
      "type": "handler.WsHandler",
      "HttpMethod": "POST",
      "Logic": "ref:workerCreateLogic",
      "PathPattern": "^/worker[/]?$"
    }
  }
}
